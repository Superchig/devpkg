\hypertarget{commands_8h}{}\section{commands.\+h File Reference}
\label{commands_8h}\index{commands.\+h@{commands.\+h}}


Functions and enums for devpkg commands.  


{\ttfamily \#include $<$apr-\/1/apr\+\_\+pools.\+h$>$}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{commands_8h_ab9120c5dbc121bc45a0cdd133e291379}{D\+E\+P\+E\+N\+D\+S\+\_\+\+P\+A\+T\+H}~\char`\"{}/tmp/D\+E\+P\+E\+N\+D\+S\char`\"{}
\begin{DoxyCompactList}\small\item\em Path to dependencies file. \end{DoxyCompactList}\item 
\hypertarget{commands_8h_a9c2aedcf20beed95d9f94e54a5b98c77}{}\#define \hyperlink{commands_8h_a9c2aedcf20beed95d9f94e54a5b98c77}{T\+A\+R\+\_\+\+G\+Z\+\_\+\+S\+R\+C}~\char`\"{}/tmp/pkg-\/src.\+tar.\+gz\char`\"{}\label{commands_8h_a9c2aedcf20beed95d9f94e54a5b98c77}

\begin{DoxyCompactList}\small\item\em Path to package source, with tar.\+gz extension. \end{DoxyCompactList}\item 
\hypertarget{commands_8h_af71a088f27cf2ef8f751d81273078c68}{}\#define \hyperlink{commands_8h_af71a088f27cf2ef8f751d81273078c68}{T\+A\+R\+\_\+\+B\+Z2\+\_\+\+S\+R\+C}~\char`\"{}/tmp/pkg-\/src.\+tar.\+bz2\char`\"{}\label{commands_8h_af71a088f27cf2ef8f751d81273078c68}

\begin{DoxyCompactList}\small\item\em Path to package source, with tar.\+bz2 extension. \end{DoxyCompactList}\item 
\hypertarget{commands_8h_a40ae373788da1701b1df883e62b46373}{}\#define \hyperlink{commands_8h_a40ae373788da1701b1df883e62b46373}{B\+U\+I\+L\+D\+\_\+\+D\+I\+R}~\char`\"{}/tmp/pkg-\/build\char`\"{}\label{commands_8h_a40ae373788da1701b1df883e62b46373}

\begin{DoxyCompactList}\small\item\em Directory to build files in. \end{DoxyCompactList}\item 
\hypertarget{commands_8h_a8cabfe3e73eed8ee4083b7118086f140}{}\#define \hyperlink{commands_8h_a8cabfe3e73eed8ee4083b7118086f140}{G\+I\+T\+\_\+\+P\+A\+T}~\char`\"{}$\ast$.git\char`\"{}\label{commands_8h_a8cabfe3e73eed8ee4083b7118086f140}

\begin{DoxyCompactList}\small\item\em Pattern to match against git packages. \end{DoxyCompactList}\item 
\hypertarget{commands_8h_a358f5b64984880fa59ea893e449fc3bb}{}\#define \hyperlink{commands_8h_a358f5b64984880fa59ea893e449fc3bb}{D\+E\+P\+E\+N\+D\+\_\+\+P\+A\+T}~\char`\"{}$\ast$D\+E\+P\+E\+N\+D\+S\char`\"{}\label{commands_8h_a358f5b64984880fa59ea893e449fc3bb}

\begin{DoxyCompactList}\small\item\em Pattern that depends file ends in. \end{DoxyCompactList}\item 
\hypertarget{commands_8h_afaa18bb2bbdb4a50196ec414bd0e1227}{}\#define \hyperlink{commands_8h_afaa18bb2bbdb4a50196ec414bd0e1227}{T\+A\+R\+\_\+\+G\+Z\+\_\+\+P\+A\+T}~\char`\"{}$\ast$.tar.\+gz\char`\"{}\label{commands_8h_afaa18bb2bbdb4a50196ec414bd0e1227}

\begin{DoxyCompactList}\small\item\em Pattern for tar.\+gz files. \end{DoxyCompactList}\item 
\hypertarget{commands_8h_acc3e9a00f81bb887a0dfbf6648467e6b}{}\#define \hyperlink{commands_8h_acc3e9a00f81bb887a0dfbf6648467e6b}{T\+A\+R\+\_\+\+B\+Z2\+\_\+\+P\+A\+T}~\char`\"{}$\ast$.tar.\+bz2\char`\"{}\label{commands_8h_acc3e9a00f81bb887a0dfbf6648467e6b}

\begin{DoxyCompactList}\small\item\em Pattern for tar.\+bz2 files. \end{DoxyCompactList}\item 
\hypertarget{commands_8h_ab780866c2a8435a305bc8fe7e6ee688a}{}\#define \hyperlink{commands_8h_ab780866c2a8435a305bc8fe7e6ee688a}{C\+O\+N\+F\+I\+G\+\_\+\+S\+C\+R\+I\+P\+T}~\char`\"{}/tmp/pkg-\/build/configure\char`\"{}\label{commands_8h_ab780866c2a8435a305bc8fe7e6ee688a}

\begin{DoxyCompactList}\small\item\em Path for configure script. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
\hypertarget{commands_8h_a21e038f5b8958e203d28bc4f18472352}{}enum \hyperlink{commands_8h_a21e038f5b8958e203d28bc4f18472352}{Command\+Type} \{ \\*
{\bfseries C\+O\+M\+M\+A\+N\+D\+\_\+\+N\+O\+N\+E}, 
{\bfseries C\+O\+M\+M\+A\+N\+D\+\_\+\+I\+N\+S\+T\+A\+L\+L}, 
{\bfseries C\+O\+M\+M\+A\+N\+D\+\_\+\+L\+I\+S\+T}, 
{\bfseries C\+O\+M\+M\+A\+N\+D\+\_\+\+F\+E\+T\+C\+H}, 
\\*
{\bfseries C\+O\+M\+M\+A\+N\+D\+\_\+\+I\+N\+I\+T}, 
{\bfseries C\+O\+M\+M\+A\+N\+D\+\_\+\+B\+U\+I\+L\+D}
 \}\label{commands_8h_a21e038f5b8958e203d28bc4f18472352}

\begin{DoxyCompactList}\small\item\em Represents which command is selected. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{commands_8h_affbc6091a8bd093b418d1701bc2f7307}{Command\+\_\+fetch} (apr\+\_\+pool\+\_\+t $\ast$p, const char $\ast$url, int fetch\+\_\+only)
\begin{DoxyCompactList}\small\item\em Downloads a project either through git or curl, and then untars it if needed. \end{DoxyCompactList}\item 
int \hyperlink{commands_8h_af384b213993ba94ca4f7e0492a544135}{Command\+\_\+install} (apr\+\_\+pool\+\_\+t $\ast$p, const char $\ast$url, const char $\ast$configure\+\_\+opts, const char $\ast$make\+\_\+opts, const char $\ast$install\+\_\+opts)
\begin{DoxyCompactList}\small\item\em Fetches and builds a project, unless the project has already been installed. \end{DoxyCompactList}\item 
int \hyperlink{commands_8h_a8f5695cbe4457871b9ac8a7f686e93e9}{Command\+\_\+depends} (apr\+\_\+pool\+\_\+t $\ast$p, const char $\ast$path)
\begin{DoxyCompactList}\small\item\em Installs all projects in the file pointed to by path. \end{DoxyCompactList}\item 
int \hyperlink{commands_8h_a6910667dba531ef95fc0a445bdbf0141}{Command\+\_\+build} (apr\+\_\+pool\+\_\+t $\ast$p, const char $\ast$url, const char $\ast$configure\+\_\+opts, const char $\ast$make\+\_\+opts, const char $\ast$install\+\_\+opts)
\begin{DoxyCompactList}\small\item\em Builds the already downloaded C project. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Functions and enums for devpkg commands. 



\subsection{Macro Definition Documentation}
\hypertarget{commands_8h_ab9120c5dbc121bc45a0cdd133e291379}{}\index{commands.\+h@{commands.\+h}!D\+E\+P\+E\+N\+D\+S\+\_\+\+P\+A\+T\+H@{D\+E\+P\+E\+N\+D\+S\+\_\+\+P\+A\+T\+H}}
\index{D\+E\+P\+E\+N\+D\+S\+\_\+\+P\+A\+T\+H@{D\+E\+P\+E\+N\+D\+S\+\_\+\+P\+A\+T\+H}!commands.\+h@{commands.\+h}}
\subsubsection[{D\+E\+P\+E\+N\+D\+S\+\_\+\+P\+A\+T\+H}]{\setlength{\rightskip}{0pt plus 5cm}\#define D\+E\+P\+E\+N\+D\+S\+\_\+\+P\+A\+T\+H~\char`\"{}/tmp/D\+E\+P\+E\+N\+D\+S\char`\"{}}\label{commands_8h_ab9120c5dbc121bc45a0cdd133e291379}


Path to dependencies file. 

Must be a series of newline-\/separated urls. 

\subsection{Function Documentation}
\hypertarget{commands_8h_a6910667dba531ef95fc0a445bdbf0141}{}\index{commands.\+h@{commands.\+h}!Command\+\_\+build@{Command\+\_\+build}}
\index{Command\+\_\+build@{Command\+\_\+build}!commands.\+h@{commands.\+h}}
\subsubsection[{Command\+\_\+build}]{\setlength{\rightskip}{0pt plus 5cm}int Command\+\_\+build (
\begin{DoxyParamCaption}
\item[{apr\+\_\+pool\+\_\+t $\ast$}]{p, }
\item[{const char $\ast$}]{url, }
\item[{const char $\ast$}]{configure\+\_\+opts, }
\item[{const char $\ast$}]{make\+\_\+opts, }
\item[{const char $\ast$}]{install\+\_\+opts}
\end{DoxyParamCaption}
)}\label{commands_8h_a6910667dba531ef95fc0a445bdbf0141}


Builds the already downloaded C project. 

\begin{DoxyParagraph}{Warning}
Builds the C project already downloaded, not necessarily url.
\end{DoxyParagraph}

\begin{DoxyParams}{Parameters}
{\em p} & The apr memory pool to be used. \\
\hline
{\em url} & The url to be added to D\+B\+\_\+\+F\+I\+L\+E \\
\hline
{\em configure\+\_\+opts} & Options to be passed to the configure script. \\
\hline
{\em make\+\_\+opts} & Options to be passed to make. \\
\hline
{\em install\+\_\+opts} & Options to be passed to make install. 

 Example\+: 
\begin{DoxyCode}
\textcolor{keywordtype}{int} rc = \hyperlink{commands_8h_a6910667dba531ef95fc0a445bdbf0141}{Command\_build}(p, \textcolor{stringliteral}{"https://foo/bar.git"});
\textcolor{keywordflow}{if}(rc == -1) \{
    \textcolor{comment}{// Handle error...}
\}
\end{DoxyCode}
\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 if successful. 

-\/1 on error. 
\end{DoxyReturn}
\hypertarget{commands_8h_a8f5695cbe4457871b9ac8a7f686e93e9}{}\index{commands.\+h@{commands.\+h}!Command\+\_\+depends@{Command\+\_\+depends}}
\index{Command\+\_\+depends@{Command\+\_\+depends}!commands.\+h@{commands.\+h}}
\subsubsection[{Command\+\_\+depends}]{\setlength{\rightskip}{0pt plus 5cm}int Command\+\_\+depends (
\begin{DoxyParamCaption}
\item[{apr\+\_\+pool\+\_\+t $\ast$}]{p, }
\item[{const char $\ast$}]{path}
\end{DoxyParamCaption}
)}\label{commands_8h_a8f5695cbe4457871b9ac8a7f686e93e9}


Installs all projects in the file pointed to by path. 


\begin{DoxyParams}{Parameters}
{\em p} & The apr memory pool to be used. \\
\hline
{\em path} & Path to a file containing a series of line-\/separated urls to dependencies to be installed. \\
\hline
\end{DoxyParams}


\begin{DoxyReturn}{Returns}
0 if download successful. 

-\/1 if error occurred. 
\end{DoxyReturn}
\hypertarget{commands_8h_affbc6091a8bd093b418d1701bc2f7307}{}\index{commands.\+h@{commands.\+h}!Command\+\_\+fetch@{Command\+\_\+fetch}}
\index{Command\+\_\+fetch@{Command\+\_\+fetch}!commands.\+h@{commands.\+h}}
\subsubsection[{Command\+\_\+fetch}]{\setlength{\rightskip}{0pt plus 5cm}int Command\+\_\+fetch (
\begin{DoxyParamCaption}
\item[{apr\+\_\+pool\+\_\+t $\ast$}]{p, }
\item[{const char $\ast$}]{url, }
\item[{int}]{fetch\+\_\+only}
\end{DoxyParamCaption}
)}\label{commands_8h_affbc6091a8bd093b418d1701bc2f7307}


Downloads a project either through git or curl, and then untars it if needed. 


\begin{DoxyParams}{Parameters}
{\em p} & The apr memory pool to be used. \\
\hline
{\em url} & The url of the project to be fetched. \\
\hline
{\em fetch\+\_\+only} & Whether or not to only fetch dependencies. 0 to fetch dependencies. 1 to {\itshape not} fetch dependencies. \\
\hline
\end{DoxyParams}


\begin{DoxyReturn}{Returns}
0 if nothing additional should be done. 1 if the project needs to be installed. -\/1 if an error occurred. 
\end{DoxyReturn}


Example\+: 
\begin{DoxyCode}
\textcolor{keywordtype}{int} rc = \hyperlink{commands_8h_affbc6091a8bd093b418d1701bc2f7307}{Command\_fetch}(p, \textcolor{stringliteral}{"https://github.com/foo/bar.git"})
if(rc == -1) \{
    \textcolor{comment}{// Handle error...}
\} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(rc == 1) \{
    \hyperlink{commands_8h_af384b213993ba94ca4f7e0492a544135}{Command\_install}(p, \textcolor{stringliteral}{"https://github.com/foo/bar.git"}, NULL, NULL, NULL);
\} \textcolor{keywordflow}{else} \{
    so\_chic();
    freak\_out();
\}
\end{DoxyCode}
 \hypertarget{commands_8h_af384b213993ba94ca4f7e0492a544135}{}\index{commands.\+h@{commands.\+h}!Command\+\_\+install@{Command\+\_\+install}}
\index{Command\+\_\+install@{Command\+\_\+install}!commands.\+h@{commands.\+h}}
\subsubsection[{Command\+\_\+install}]{\setlength{\rightskip}{0pt plus 5cm}int Command\+\_\+install (
\begin{DoxyParamCaption}
\item[{apr\+\_\+pool\+\_\+t $\ast$}]{p, }
\item[{const char $\ast$}]{url, }
\item[{const char $\ast$}]{configure\+\_\+opts, }
\item[{const char $\ast$}]{make\+\_\+opts, }
\item[{const char $\ast$}]{install\+\_\+opts}
\end{DoxyParamCaption}
)}\label{commands_8h_af384b213993ba94ca4f7e0492a544135}


Fetches and builds a project, unless the project has already been installed. 


\begin{DoxyParams}{Parameters}
{\em p} & Memory pool to be used. \\
\hline
{\em url} & Url of project. \\
\hline
{\em configure\+\_\+opts} & Configure options. \\
\hline
{\em make\+\_\+opts} & Options to be passed to first make. \\
\hline
{\em install\+\_\+opts} & Options to be passed in place of make install.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on successful install. 

0 on successful fetch and the project has already been installed. 

-\/1 on error. 
\end{DoxyReturn}
